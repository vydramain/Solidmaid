# DEVLOG ‚Äî Callbacks Cleanup & Carry Anchors

---

## Date: 2025-11-24

### üéØ Goal of the Day
> –ü—Ä–∏–≤–µ—Å—Ç–∏ 3D-—Å–∏—Å—Ç–µ–º—ã –∫ –≥–∞–π–¥–ª–∞–π–Ω–∞–º –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é, —É—Å–∏–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ CarrySlots –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ—á–≤—É –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π —Ä—É–∫/–æ—Ä—É–∂–∏—è.

---

### üß© Tasks Executed
- –ü—Ä–∏–≤–µ–ª 3D-—Å–∫—Ä–∏–ø—Ç—ã –∫ –ø—Ä–∞–≤–∏–ª—É –∏–∑ CGS: —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–ª–±—ç–∫–∏ —Å `_`, –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî snake_case. –û–±–Ω–æ–≤–ª–µ–Ω—ã Character, ControllerForPlayer, VisionRig, CarrySlots, MeleeAbility, Interactor, Ability, Locomotion, PipeSwingTool.
- –í CarrySlots –¥–æ–±–∞–≤–∏–ª –∂–µ—Å—Ç–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (push_error + assert) –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ rig/–∞–Ω–∫–µ—Ä–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤; –ø–æ–∏—Å–∫ —Å–ª–æ—Ç–æ–≤ –ø–æ —Ç–µ–≥–∞–º/–≥—Ä—É–ø–ø–∞–º, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã VisionRig.
- PipeSwingTool –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ –æ–±—ã—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã; Carriable/Throwable/Ability/Interactor –∏ –¥—Ä. –æ—á–∏—â–µ–Ω—ã –æ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö `_`-—Ö–µ–ª–ø–µ—Ä–æ–≤.
- –û–±—Å—É–¥–∏–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∞–Ω–∏–º–∞—Ü–∏–π —Ä—É–∫: HandAnimator/AnimationTree, –¥–µ–ª–µ–Ω–∏–µ FP/TP –∫–ª–∏–ø–æ–≤, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª–∏–ø–æ–≤ –≤ –ø—Ä–µ–¥–º–µ—Ç–∞—Ö/–ø—Ä–æ—Ñ–∏–ª—è—Ö, –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ ability+affordance.
- –î–æ–±–∞–≤–∏–ª –∑–∞–≥–æ—Ç–æ–≤–∫—É HandAnimator (VisionRig) + HandAnimationProfile —Ä–µ—Å—É—Ä—Å—ã; –¥–ª—è —Ç—Ä—É–±—ã –ø—Ä–æ–ø–∏—Å–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å –∏ stub-–∫–ª–∏–ø `pipe_melee_fp`, MeleeAbility –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–ª–∏–ø—ã —á–µ—Ä–µ–∑ Character.play_hand_animation.
- –í tscn —Å—Ü–µ–Ω—ã –≤–µ—Ä–Ω—É–ª UID-—Å—Å—ã–ª–∫–∏ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –ø—É—Ç–µ–π (VisionRig, Throw, Melee).
- –í CGS –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ UID –Ω–µ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π path.

---

### ‚öôÔ∏è Issues / What Broke
- –í–æ–∑–º–æ–∂–Ω—ã —Ä–∞–∑—Ä—ã–≤—ã —Å—Å—ã–ª–æ–∫ –≤ —Å—Ü–µ–Ω–∞—Ö/—Å–∏–≥–Ω–∞–ª–∞—Ö, –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –±—ã–ª–∏ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—Ç–∞—Ä—ã–º –∏–º–µ–Ω–∞–º –º–µ—Ç–æ–¥–æ–≤ (`_interact_with_held_item`, `_ensure_hud`, –∏ —Ç.–ø.). –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ Godot –Ω–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –±–∏–Ω–¥–∞—Ç—ã.
- PipeSwingTool –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `_`-–ø—Ä–µ—Ñ–∏–∫—Å—ã; –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ –∑–∞–¥–∞–Ω–æ call_deferred —Å–æ —Å—Ç–∞—Ä—ã–º –∏–º–µ–Ω–µ–º, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–∏—Ç—å.
- HandAnimator –ø–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ FP stub-–∞–Ω–∏–º–∞—Ü–∏—é `pipe_melee_fp`, TP-–∫–ª–∏–ø—ã –∏ —Ä–µ–∞–ª—å–Ω—ã–µ keyframes –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

---

### üîÅ Next Steps / TODO
- [ ] –î–æ–±–∞–≤–∏—Ç—å hurtbox/—É—Ä–æ–Ω –≤ `MeleeAbility`, —á—Ç–æ–±—ã —É–¥–∞—Ä —Ç—Ä—É–±–æ–π –Ω–∞–Ω–æ—Å–∏–ª —ç—Ñ—Ñ–µ–∫—Ç.
- [ ] –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å HUD/–∏–Ω–ø—É—Ç, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã —Å–ª–æ—Ç–æ–≤ (—á—Ç–æ –≤ —Ä—É–∫–∞—Ö, –≥–æ—Ç–æ–≤–æ –ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ).
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–æ–ª—å—à–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∫ affordance —Å–∏—Å—Ç–µ–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—É–¥—É—â–∏–µ melee/throw –æ–±—ä–µ–∫—Ç—ã) –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—Ä–æ—Å—Å-–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ ability.
- [ ] –ü–æ—á–∏–Ω–∏—Ç—å melee-–∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è —Ç—Ä—É–±—ã (pipe): —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ swing –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ —Ä—É–∫–∞—Ö.
- [ ] –ü–æ—á–∏–Ω–∏—Ç—å –±–∞–≥: —Ç—Ä—É–±–∞ –ø—Ä–∏ –≤–∑—è—Ç–∏–∏ –≤ —Ä—É–∫–∏ –ø–∞–¥–∞–µ—Ç –ø–æ–¥ –∫–∞—Ä—Ç—É ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é/—Ñ–∏–∑–∏–∫—É –ø—Ä–∏ –ø–æ–¥—ä—ë–º–µ.
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥—Ä–æ–ø–∞ (G/D-pad Down + —Ä—É–∫–∞) –∏ —É—Ç–æ—á–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø—É—Å—Ç—ã—Ö —Å–ª–æ—Ç–∞—Ö/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ affordance.
- [ ] –í–≤–µ—Å—Ç–∏ HandAnimator/AnimationTree –¥–ª—è —Ä—É–∫: –±–∞–∑–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (idle, pickup, drop, throw_release, melee_swing), —Ä–∞–∑–¥–µ–ª–∏—Ç—å FP/TP –∫–ª–∏–ø—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–æ–±—â–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ + –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤).
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª–∏–ø—ã –¥–ª—è pipe (fp/tp), –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å AnimationTree/state machine, –æ–±–≤—è–∑–∞—Ç—å hurtbox-—Ç—Ä–∏–≥–≥–µ—Ä—ã –≤ –∞–Ω–∏–º–∞—Ü–∏—è—Ö.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ü–µ–Ω—ã/—Å–∏–≥–Ω–∞–ª—ã –Ω–∞ —Å–ª–æ–º–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –∏ UID-—Ñ–∏–∫—Å–æ–≤.

---

### üóÉÔ∏è Commit Summary
- –ë–æ–ª—å—à–∞—è —á–∏—Å—Ç–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∏–º—ë–Ω –ø–æ –≥–∞–π–¥–ª–∞–π–Ω—É, —É—Å–∏–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ CarrySlots/–∞–Ω–∏–º-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –∑–∞–≥–æ—Ç–æ–≤–∫–∞ HandAnimator/–ø—Ä–æ—Ñ–∏–ª–µ–π –∏ –≤–æ–∑–≤—Ä–∞—Ç UID-—Å—Å—ã–ª–æ–∫.
