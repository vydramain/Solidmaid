# DEVLOG ‚Äî FPS V2 Character Scaffold

---

## Date: 2025-11-09

### üéØ Goal of the Day
> –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é FPS‚Äë—Å—É—â–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –ø–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ–º—É (ECS‚Äë–¥—É—Ö—É) –ø–∞—Ç—Ç–µ—Ä–Ω—É: —Å—É—â–Ω–æ—Å—Ç—å + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + —Å–ª–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —É–∑–ª–æ–≤ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, –∫–∞–º–µ—Ä—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –∏ –∫–∞—Ä–∫–∞—Å–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π.

---

### üß© Tasks Executed
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–∞–∑–æ–≤–∞—è —Å—Ü–µ–Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ `resources/objects/character/Character.tscn` (—É–∑–ª—ã: `Locomotion`, `CameraRig/Camera3D`, `Interactor`, `Vitality`, `Abilities`, `ControllerSlot`).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–±–æ—Ä—â–∏–∫ `resources/objects/character/character.gd` (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –¥–æ—Å—Ç—É–ø –∫ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º, —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–º–µ—Ä—Ç—å).
- [x] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —Å–ª–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ `resources/overlap/controller_slot/ControllerSlot.tscn` + –º–∞–ø–ø–∏–Ω–≥ `controller_slot.gd` (AI/Player PackedScene).
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–≥—Ä–æ–∫–∞ `.../controller_for_player/ControllerForPlayer.tscn/.gd` (—á—Ç–µ–Ω–∏–µ –≤–≤–æ–¥–∞, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ locomotion/abilities/interactor).
- [x] –õ–æ–∫–æ–º–æ—É—à–Ω (3D) `resources/overlap/locomotion/Locomotion.tscn/.gd` (yaw/pitch, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è, –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –æ—Å—è–º; —ç–∫—Å–ø–æ—Ä—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–º–µ—Å—Ç–æ Resource‚Äë–∫–æ–Ω—Ñ–∏–≥–∞).
- [x] –ö–∞—Ä–∫–∞—Å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π `resources/overlap/abilities/Ability.tscn/.gd` + —Å—Ü–µ–Ω—ã `melee/Melee.tscn`, `throw/Throw.tscn` (enum‚ÜíPackedScene, —Å–∏–≥–Ω–∞–ª—ã start/stop/failed, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–¥–æ—Ä–æ–≤—å—è `resources/overlap/vitality/Vitality.tscn/.gd` (HP, —Å–∏–≥–Ω–∞–ª—ã `damaged`/`died`).
- [x] –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –∏–º–µ–Ω–∞ —É–∑–ª–æ–≤ –∏ —Å—Å—ã–ª–∫–∏: `character.gd` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Locomotion` –∫–∞–∫ `body`, –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `Abilities`.
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã legacy‚Äë2D: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å 2D‚Äë—Å—Ü–µ–Ω–∞–º–∏ –≤ `resources/objects/legacy_enitity/`, `resources/objects/levels/legacy_{home,factory,outside}/`, `resources/systems/legacy_{enemies,environments,level}/`.
- [ ] –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `Interactor` (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞; —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø. –ª–æ–≥–∏–∫–∏ raycast –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ `interact(by)`).
- [ ] –ò–Ω–ø—É—Ç‚Äë–∫–∞—Ä—Ç–∞: –¥–æ–±–∞–≤–∏—Ç—å `move_forward/backward` –∏–ª–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–¥ `move_up/down`; –¥–æ–±–∞–≤–∏—Ç—å `throw`, `interact` (—Å–µ–π—á–∞—Å –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ç–æ–ª—å–∫–æ `action_attack` –∏ `move_up/down/left/right`).

---

### üí° What Worked
- –ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º–µ (—Å–ª–∞–±—ã–µ —Å–≤—è–∑–∏, —Å–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –¥–∞–Ω–Ω—ã–µ –∏–∑ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤).
- –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–≥—Ä–æ–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–π API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`set_move_input`, `set_look_delta`, `request_start`, `interact`).
- –õ–æ–∫–æ–º–æ—É—à–Ω –∏ –∫–∞–º–µ—Ä–∞ –¥–∞—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π yaw/pitch –∏ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—é; –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏.

---

### ‚öôÔ∏è Issues / What Didn‚Äôt Work
- `Interactor` –ø–æ–∫–∞ –ø—É—Å—Ç–æ–π ‚Äî –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–µ–ª—å–∑—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤ –º–∏—Ä–µ.
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω –∏–Ω–ø—É—Ç‚Äë–¥–µ–π—Å—Ç–≤–∏–π –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º –∏ `project.godot` (–Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å–æ–±—ã—Ç–∏—è `throw`, `interact`, `move_forward/backward`).
- –ó–Ω–∞—á–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–æ–≤ –≤ `Locomotion.tscn` –±—ã–ª–∏ `null` ‚Äî –≤–∞–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∞.

---

### üß† Lessons / Insights
- Godot‚Äë—É–∑–ª—ã –æ—Ç–ª–∏—á–Ω–æ –ª–æ–∂–∞—Ç—Å—è –Ω–∞ ECS‚Äë–¥—É—Ö —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é: —Å—Ü–µ–Ω–∞‚Äë—Å—É—â–Ω–æ—Å—Ç—å + –∫–æ–º–ø–æ–Ω–µ–Ω—Ç‚Äë—É–∑–ª—ã + –¥–∞–Ω–Ω—ã–µ‚Äë—ç–∫—Å–ø–æ—Ä—Ç—ã/—Ä–µ—Å—É—Ä—Å—ã.
- ‚Äú–°–ª–æ—Ç‚Äù –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–≤–æ–¥–∞ (Player/AI) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

---

### üîÅ Next Steps
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `Interactor` (raycast 2‚Äì3 –º, `get_collider()`, –∫–æ–Ω—Ç—Ä–∞–∫—Ç `interact(by)`).
- –ü—Ä–∏–≤–µ—Å—Ç–∏ –∏–Ω–ø—É—Ç‚Äë–∫–∞—Ä—Ç—É –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É: –¥–æ–±–∞–≤–∏—Ç—å `move_forward/backward`, `throw`, `interact` –ª–∏–±–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–¥ —Ç–µ–∫—É—â–∏–µ actions.
- –í—ã—Å—Ç–∞–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç—ã –≤ `Locomotion` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `speed=5.0`, `sensitivity=0.003`, `gravity=30.0`, `pitch_max‚âà85¬∞`).
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é 3D‚Äë–ø–µ—Å–æ—á–Ω–∏—Ü—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ö–æ–¥—å–±—ã/–≤–∑–≥–ª—è–¥–∞/–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–π.

---

### üóÉÔ∏è Commit Summary (high‚Äëlevel)
- New: Character scene + character.gd, Abilities skeleton, Locomotion (3D), Vitality, ControllerSlot, Player controller.
- Refactor: –≤—ã—Ä–æ–≤–Ω–µ–Ω—ã –∏–º–µ–Ω–∞ —É–∑–ª–æ–≤/–¥–µ—Ä–µ–≤–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º –∏ API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤; –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ—Ñ–∏–∫—Å—ã `legacy_` –¥–ª—è 2D‚Äë–∫–∞—Ç–∞–ª–æ–≥–æ–≤ –≤ `resources/*`.
- TODOs: Interactor –º–∏–Ω–∏–º–∞–ª–∫–∞, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏–Ω–ø—É—Ç–∞, –¥–µ—Ñ–æ–ª—Ç—ã locomotion.
